(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{83774:function(t,e,n){Promise.resolve().then(n.bind(n,38991))},49322:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});let r=(0,n(79205).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},51817:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});let r=(0,n(79205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},11239:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});let r=(0,n(79205).Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},38991:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return l}});var r=n(57437),a=n(2265),c=n(11239),s=n(49322),i=n(51817),o=n(71837),u=n(92371);function l(){let[t,e]=(0,a.useState)(""),[n,l]=(0,a.useState)(""),[d,h]=(0,a.useState)(!1),[f,m]=(0,a.useState)(""),{setAuth:y}=(0,u.tN)(),g=async e=>{e.preventDefault(),h(!0),m("");try{let{token:e,user:r}=await (0,o.x4)(t,n);y({id:r.id,email:r.email,name:r.name,role:r.role},e),window.location.href="/vzy-ott-verification-agent/";return}catch(t){m(t.message||"Authentication failed. Check your credentials.")}h(!1)};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-surface-0 p-4",children:(0,r.jsxs)("div",{className:"w-full max-w-sm space-y-8",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"mx-auto w-12 h-12 rounded-xl bg-gradient-to-br from-brand-500 to-cyan-500 flex items-center justify-center mb-4",children:(0,r.jsx)(c.Z,{className:"w-6 h-6 text-white"})}),(0,r.jsx)("h1",{className:"text-xl font-bold text-white",children:"VZY Agent Dashboard"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"OTT Website Security, Performance & Code Quality"})]}),(0,r.jsxs)("form",{onSubmit:g,className:"card p-6 space-y-4",children:[f&&(0,r.jsxs)("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-red-500/10 border border-red-500/20",children:[(0,r.jsx)(s.Z,{className:"w-4 h-4 text-red-400 flex-shrink-0"}),(0,r.jsx)("span",{className:"text-xs text-red-400",children:f})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-xs text-gray-500 mb-1 block",children:"Email"}),(0,r.jsx)("input",{type:"email",value:t,onChange:t=>e(t.target.value),className:"input",placeholder:"admin@dishtv.in",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-xs text-gray-500 mb-1 block",children:"Password"}),(0,r.jsx)("input",{type:"password",value:n,onChange:t=>l(t.target.value),className:"input",placeholder:"••••••••",required:!0})]}),(0,r.jsxs)("button",{type:"submit",disabled:d,className:"btn-primary w-full",children:[d?(0,r.jsx)(i.Z,{className:"w-4 h-4 animate-spin"}):null,d?"Signing in...":"Sign in"]})]})]})})}},71837:function(t,e,n){"use strict";async function r(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=localStorage.getItem("vzy_token"),r=await fetch("".concat("https://vzy-api-gro1.onrender.com/api").concat(t),{...e,headers:{"Content-Type":"application/json",...n?{Authorization:"Bearer ".concat(n)}:{},...e.headers}});if(!r.ok){let t=await r.json().catch(()=>({error:r.statusText}));throw new a(r.status,t.error||r.statusText)}return r.json()}n.d(e,{Aj:function(){return s},FX:function(){return o},IK:function(){return c},Nq:function(){return g},Qx:function(){return p},Rf:function(){return m},bx:function(){return u},h8:function(){return x},hO:function(){return h},iE:function(){return l},lZ:function(){return i},r4:function(){return y},rF:function(){return d},te:function(){return b},x4:function(){return f}});class a extends Error{constructor(t,e){super(e),this.status=t,this.name="ApiError"}}async function c(t){return r("/reports/latest?target=".concat(encodeURIComponent(t)))}async function s(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return r("/trends?target=".concat(encodeURIComponent(t),"&days=").concat(e))}async function i(t){return r("/scans",{method:"POST",body:JSON.stringify(t)})}async function o(t){return r("/scans/batch",{method:"POST",body:JSON.stringify(t)})}async function u(t){return r("/scans/".concat(t,"/abort"),{method:"POST"})}async function l(){return r("/config")}async function d(t){return r("/config",{method:"PATCH",body:JSON.stringify(t)})}async function h(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return r("/webhooks/logs?limit=".concat(t))}async function f(t,e){return r("/auth/login",{method:"POST",body:JSON.stringify({email:t,password:e})})}async function m(){return r("/auth/users")}async function y(t){return r("/auth/users",{method:"POST",body:JSON.stringify(t)})}async function g(t,e){return r("/auth/users/".concat(t),{method:"PUT",body:JSON.stringify(e)})}async function x(t){return r("/auth/users/".concat(t),{method:"DELETE"})}async function p(){return r("/health")}async function b(t){return r("/jira/create",{method:"POST",body:JSON.stringify({findingId:t})})}},92371:function(t,e,n){"use strict";n.d(e,{HB:function(){return u},eX:function(){return o},nq:function(){return s},rG:function(){return i},tN:function(){return c}});var r=n(59625),a=n(89134);let c=(0,r.Ue)()((0,a.tJ)((t,e)=>({user:null,token:null,setAuth:(e,n)=>{t({user:e,token:n}),localStorage.setItem("vzy_token",n),document.cookie="vzy_token=".concat(n,"; path=/; max-age=").concat(86400,"; SameSite=Lax")},logout:()=>{t({user:null,token:null}),localStorage.removeItem("vzy_token"),document.cookie="vzy_token=; path=/; max-age=0"},hasRole:t=>{let n=e().user;return!!n&&t.includes(n.role)}}),{name:"vzy-auth"})),s=(0,r.Ue)(t=>({report:null,target:"",loading:!1,error:null,setReport:e=>t({report:e,error:null}),setTarget:e=>t({target:e}),setLoading:e=>t({loading:e}),setError:e=>t({error:e,loading:!1})})),i=(0,r.Ue)((t,e)=>({activeScan:null,scanHistory:[],setActiveScan:e=>t({activeScan:e}),updateAgentProgress:(n,r,a,c)=>{let s=e().activeScan;s&&s.scanId===n&&t({activeScan:{...s,agents:{...s.agents,[r]:{progress:a,status:c}}}})},completeScan:(e,n,r)=>{t(t=>({activeScan:null,scanHistory:[{scanId:e,score:n,status:r,timestamp:new Date().toISOString()},...t.scanHistory.slice(0,49)]}))}})),o=(0,r.Ue)(t=>({batchId:null,batchScans:[],batchRunning:!1,startBatch:(e,n)=>t({batchId:e,batchScans:n.map(t=>({...t,status:"queued"})),batchRunning:!0}),updateBatchEntry:(e,n)=>t(t=>({batchScans:t.batchScans.map(t=>t.scanId===e?{...t,...n}:t)})),clearBatch:()=>t({batchId:null,batchScans:[],batchRunning:!1})})),u=(0,r.Ue)()((0,a.tJ)(t=>({sidebarCollapsed:!1,trendRange:30,toggleSidebar:()=>t(t=>({sidebarCollapsed:!t.sidebarCollapsed})),setTrendRange:e=>t({trendRange:e})}),{name:"vzy-ui"}))}},function(t){t.O(0,[809,971,117,744],function(){return t(t.s=83774)}),_N_E=t.O()}]);