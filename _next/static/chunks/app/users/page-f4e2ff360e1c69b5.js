(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[240],{11457:function(e,t,s){Promise.resolve().then(s.bind(s,97091))},30401:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},49322:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},25330:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]])},42208:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},51817:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},82431:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},88906:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},18930:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},95805:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},32489:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},97091:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S}});var a=s(57437),r=s(2265),l=s(79205);let n=(0,l.Z)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var i=s(88906),c=s(25330);let d=(0,l.Z)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),x=(0,l.Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var o=s(32489),m=s(49322);let h=(0,l.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);var u=s(42208),p=s(51817);let b=(0,l.Z)("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var y=s(30401),g=s(95805),f=s(82431),j=s(18930),N=s(92371),v=s(71837),w=s(93448);let k={admin:{label:"Admin",color:"bg-red-500/15 text-red-400 border-red-500/30",icon:n},devops:{label:"DevOps",color:"bg-amber-500/15 text-amber-400 border-amber-500/30",icon:i.Z},developer:{label:"Developer",color:"bg-blue-500/15 text-blue-400 border-blue-500/30",icon:c.Z},executive:{label:"Executive",color:"bg-purple-500/15 text-purple-400 border-purple-500/30",icon:d}};function Z(e){let{role:t}=e,s=k[t]||k.developer,r=s.icon;return(0,a.jsxs)("span",{className:(0,w.cn)("inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium border",s.color),children:[(0,a.jsx)(r,{className:"w-3 h-3"}),s.label]})}function C(e){let{open:t,onClose:s,onCreated:l}=e,[n,i]=(0,r.useState)({email:"",name:"",password:"",role:"developer"}),[c,d]=(0,r.useState)(!1),[b,y]=(0,r.useState)(""),[g,f]=(0,r.useState)(!1),j=async e=>{e.preventDefault(),d(!0),y("");try{let e=await (0,v.r4)(n);l(e),i({email:"",name:"",password:"",role:"developer"}),s()}catch(e){y(e.message||"Failed to create user")}d(!1)};return t?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"card p-6 w-full max-w-md mx-4 animate-in fade-in zoom-in-95",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[(0,a.jsx)(x,{className:"w-5 h-5 text-brand-400"}),"Create New User"]}),(0,a.jsx)("button",{onClick:s,className:"btn-ghost p-1.5 rounded-lg",children:(0,a.jsx)(o.Z,{className:"w-4 h-4"})})]}),b&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-red-500/10 border border-red-500/20 mb-4",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 text-red-400 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-xs text-red-400",children:b})]}),(0,a.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500 mb-1 block",children:"Full Name"}),(0,a.jsx)("input",{type:"text",className:"input",placeholder:"John Doe",value:n.name,onChange:e=>i({...n,name:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500 mb-1 block",children:"Email"}),(0,a.jsx)("input",{type:"email",className:"input",placeholder:"user@dishtv.in",value:n.email,onChange:e=>i({...n,email:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500 mb-1 block",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:g?"text":"password",className:"input pr-10",placeholder:"Minimum 6 characters",value:n.password,onChange:e=>i({...n,password:e.target.value}),required:!0,minLength:6}),(0,a.jsx)("button",{type:"button",onClick:()=>f(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-300",children:g?(0,a.jsx)(h,{className:"w-4 h-4"}):(0,a.jsx)(u.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500 mb-1 block",children:"Role"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["admin","devops","developer","executive"].map(e=>{let t=k[e],s=t.icon;return(0,a.jsxs)("button",{type:"button",onClick:()=>i({...n,role:e}),className:(0,w.cn)("flex items-center gap-2 px-3 py-2.5 rounded-lg border text-sm font-medium transition-all",n.role===e?"border-brand-500 bg-brand-500/10 text-brand-400":"border-white/[0.06] text-gray-400 hover:border-white/10 hover:bg-white/[0.02]"),children:[(0,a.jsx)(s,{className:"w-4 h-4"}),t.label]},e)})})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,a.jsx)("button",{type:"button",onClick:s,className:"btn-ghost flex-1 py-2.5",children:"Cancel"}),(0,a.jsxs)("button",{type:"submit",disabled:c,className:"btn-primary flex-1 py-2.5",children:[c?(0,a.jsx)(p.Z,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(x,{className:"w-4 h-4"}),c?"Creating...":"Create User"]})]})]})]})}):null}function M(e){let{user:t,onClose:s,onUpdated:l}=e,[n,i]=(0,r.useState)({name:t.name,role:t.role,password:""}),[c,d]=(0,r.useState)(!1),[x,h]=(0,r.useState)(""),u=async e=>{e.preventDefault(),d(!0),h("");try{let e={name:n.name,role:n.role};n.password&&(e.password=n.password);let a=await (0,v.Nq)(t.id,e);l(a),s()}catch(e){h(e.message||"Failed to update user")}d(!1)};return(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"card p-6 w-full max-w-md mx-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[(0,a.jsx)(b,{className:"w-5 h-5 text-brand-400"}),"Edit User"]}),(0,a.jsx)("button",{onClick:s,className:"btn-ghost p-1.5 rounded-lg",children:(0,a.jsx)(o.Z,{className:"w-4 h-4"})})]}),x&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-red-500/10 border border-red-500/20 mb-4",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 text-red-400 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-xs text-red-400",children:x})]}),(0,a.jsxs)("form",{onSubmit:u,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500 mb-1 block",children:"Email (read-only)"}),(0,a.jsx)("input",{type:"email",className:"input opacity-50",value:t.email,disabled:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500 mb-1 block",children:"Full Name"}),(0,a.jsx)("input",{type:"text",className:"input",value:n.name,onChange:e=>i({...n,name:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500 mb-1 block",children:"New Password (leave empty to keep current)"}),(0,a.jsx)("input",{type:"password",className:"input",placeholder:"••••••••",value:n.password,onChange:e=>i({...n,password:e.target.value}),minLength:6})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500 mb-1 block",children:"Role"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["admin","devops","developer","executive"].map(e=>{let t=k[e],s=t.icon;return(0,a.jsxs)("button",{type:"button",onClick:()=>i({...n,role:e}),className:(0,w.cn)("flex items-center gap-2 px-3 py-2.5 rounded-lg border text-sm font-medium transition-all",n.role===e?"border-brand-500 bg-brand-500/10 text-brand-400":"border-white/[0.06] text-gray-400 hover:border-white/10 hover:bg-white/[0.02]"),children:[(0,a.jsx)(s,{className:"w-4 h-4"}),t.label]},e)})})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,a.jsx)("button",{type:"button",onClick:s,className:"btn-ghost flex-1 py-2.5",children:"Cancel"}),(0,a.jsxs)("button",{type:"submit",disabled:c,className:"btn-primary flex-1 py-2.5",children:[c?(0,a.jsx)(p.Z,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(y.Z,{className:"w-4 h-4"}),c?"Saving...":"Save Changes"]})]})]})]})})}function S(){let{user:e,hasRole:t}=(0,N.tN)(),[s,l]=(0,r.useState)([]),[n,c]=(0,r.useState)(!0),[d,o]=(0,r.useState)(""),[h,u]=(0,r.useState)(!1),[y,S]=(0,r.useState)(null),[q,A]=(0,r.useState)(null),U=t(["admin"]),_=(0,r.useCallback)(async()=>{c(!0),o("");try{let e=await (0,v.Rf)();l(e)}catch(e){o(e.message||"Failed to load users")}c(!1)},[]);(0,r.useEffect)(()=>{U&&_()},[U,_]);let z=async e=>{try{let t=await (0,v.Nq)(e.id,{is_active:!e.is_active});l(s=>s.map(s=>s.id===e.id?t:s))}catch(e){o(e.message)}},D=async e=>{if(confirm("Are you sure you want to permanently delete this user?")){A(e);try{await (0,v.h8)(e),l(t=>t.filter(t=>t.id!==e))}catch(e){o(e.message)}A(null)}};if(!U)return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-4",children:[(0,a.jsx)(i.Z,{className:"w-16 h-16 text-gray-600"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-400",children:"Access Denied"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Only Admins can manage users."})]});let E=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Never";return(0,a.jsxs)("div",{className:"space-y-6 max-w-6xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[(0,a.jsx)(g.Z,{className:"w-7 h-7 text-brand-400"}),"User Management"]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Manage user accounts and RBAC roles for dashboard access"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:_,className:"btn-ghost px-3 py-2 text-sm",children:(0,a.jsx)(f.Z,{className:(0,w.cn)("w-4 h-4",n&&"animate-spin")})}),(0,a.jsxs)("button",{onClick:()=>u(!0),className:"btn-primary px-4 py-2 text-sm",children:[(0,a.jsx)(x,{className:"w-4 h-4"}),"Add User"]})]})]}),(0,a.jsxs)("div",{className:"card p-4",children:[(0,a.jsx)("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"Role Permissions"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(Z,{role:"admin"}),(0,a.jsx)("span",{className:"text-xs text-gray-500 leading-relaxed",children:"Full access + user management"})]}),(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(Z,{role:"devops"}),(0,a.jsx)("span",{className:"text-xs text-gray-500 leading-relaxed",children:"Full access + scan control"})]}),(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(Z,{role:"developer"}),(0,a.jsx)("span",{className:"text-xs text-gray-500 leading-relaxed",children:"View all dashboards + reports"})]}),(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(Z,{role:"executive"}),(0,a.jsx)("span",{className:"text-xs text-gray-500 leading-relaxed",children:"View only (overview + reports)"})]})]})]}),d&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-red-500/10 border border-red-500/20",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 text-red-400"}),(0,a.jsx)("span",{className:"text-sm text-red-400",children:d})]}),(0,a.jsx)("div",{className:"card overflow-hidden",children:n?(0,a.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,a.jsx)(p.Z,{className:"w-6 h-6 animate-spin text-brand-400"})}):0===s.length?(0,a.jsxs)("div",{className:"text-center py-20",children:[(0,a.jsx)(g.Z,{className:"w-10 h-10 text-gray-600 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No users found"})]}):(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-white/[0.06]",children:[(0,a.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider px-5 py-3",children:"User"}),(0,a.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider px-5 py-3",children:"Role"}),(0,a.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider px-5 py-3",children:"Status"}),(0,a.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider px-5 py-3",children:"Last Login"}),(0,a.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider px-5 py-3",children:"Created"}),(0,a.jsx)("th",{className:"text-right text-xs font-semibold text-gray-500 uppercase tracking-wider px-5 py-3",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-white/[0.04]",children:s.map(t=>(0,a.jsxs)("tr",{className:"hover:bg-white/[0.02] transition-colors",children:[(0,a.jsx)("td",{className:"px-5 py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-brand-600 to-cyan-600 flex items-center justify-center text-white text-sm font-bold",children:t.name.charAt(0).toUpperCase()}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-sm font-medium text-white",children:[t.name,t.id===(null==e?void 0:e.id)&&(0,a.jsx)("span",{className:"ml-2 text-[10px] text-brand-400 bg-brand-500/10 px-1.5 py-0.5 rounded",children:"YOU"})]}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:t.email})]})]})}),(0,a.jsx)("td",{className:"px-5 py-4",children:(0,a.jsx)(Z,{role:t.role})}),(0,a.jsx)("td",{className:"px-5 py-4",children:(0,a.jsxs)("button",{onClick:()=>z(t),disabled:t.id===(null==e?void 0:e.id),className:(0,w.cn)("inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium border transition-all",t.is_active?"bg-emerald-500/15 text-emerald-400 border-emerald-500/30 hover:bg-emerald-500/25":"bg-gray-500/15 text-gray-400 border-gray-500/30 hover:bg-gray-500/25",t.id===(null==e?void 0:e.id)&&"opacity-50 cursor-not-allowed"),children:[(0,a.jsx)("span",{className:(0,w.cn)("w-1.5 h-1.5 rounded-full",t.is_active?"bg-emerald-400":"bg-gray-500")}),t.is_active?"Active":"Inactive"]})}),(0,a.jsx)("td",{className:"px-5 py-4 text-xs text-gray-500",children:E(t.last_login)}),(0,a.jsx)("td",{className:"px-5 py-4 text-xs text-gray-500",children:E(t.created_at)}),(0,a.jsx)("td",{className:"px-5 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,a.jsx)("button",{onClick:()=>S(t),className:"btn-ghost p-2 rounded-lg text-gray-400 hover:text-brand-400",title:"Edit user",children:(0,a.jsx)(b,{className:"w-3.5 h-3.5"})}),t.id!==(null==e?void 0:e.id)&&(0,a.jsx)("button",{onClick:()=>D(t.id),disabled:q===t.id,className:"btn-ghost p-2 rounded-lg text-gray-400 hover:text-red-400",title:"Delete user",children:q===t.id?(0,a.jsx)(p.Z,{className:"w-3.5 h-3.5 animate-spin"}):(0,a.jsx)(j.Z,{className:"w-3.5 h-3.5"})})]})})]},t.id))})]})}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(k).map(e=>{let[t,r]=e,l=s.filter(e=>e.role===t).length,n=r.icon;return(0,a.jsxs)("div",{className:"card p-4 flex items-center gap-3",children:[(0,a.jsx)("div",{className:(0,w.cn)("w-10 h-10 rounded-lg flex items-center justify-center",r.color.split(" ")[0]),children:(0,a.jsx)(n,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:l}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[r.label,"s"]})]})]},t)})}),(0,a.jsx)(C,{open:h,onClose:()=>u(!1),onCreated:e=>l(t=>[...t,e])}),y&&(0,a.jsx)(M,{user:y,onClose:()=>S(null),onUpdated:e=>{l(t=>t.map(t=>t.id===e.id?e:t))}})]})}},93448:function(e,t,s){"use strict";s.d(t,{$G:function(){return m},Sy:function(){return o},Uc:function(){return n},Uz:function(){return i},cn:function(){return l},dH:function(){return x},pK:function(){return c},td:function(){return d}});var a=s(61994),r=s(53335);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}function n(e){return e>=95?"healthy":e>=80?"warning":"critical"}function i(e){return e>=95?"text-kpi-pass":e>=80?"text-kpi-warn":"text-kpi-fail"}function c(e){return({critical:"bg-red-500/15 text-red-400 border-red-500/30",high:"bg-orange-500/15 text-orange-400 border-orange-500/30",medium:"bg-amber-500/15 text-amber-400 border-amber-500/30",low:"bg-blue-500/15 text-blue-400 border-blue-500/30",info:"bg-gray-500/15 text-gray-400 border-gray-500/30"})[e]}function d(e){if(0===e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,t)).toFixed(1))," ").concat(["B","KB","MB","GB"][t])}function x(e){return e<1e3?"".concat(Math.round(e),"ms"):"".concat((e/1e3).toFixed(1),"s")}function o(e){let t="string"==typeof e?new Date(e):e,s=Math.floor((Date.now()-t.getTime())/6e4);if(s<1)return"just now";if(s<60)return"".concat(s,"m ago");let a=Math.floor(s/60);return a<24?"".concat(a,"h ago"):"".concat(Math.floor(a/24),"d ago")}function m(e,t){return e.length<=t?e:e.slice(0,t)+"..."}}},function(e){e.O(0,[809,137,382,971,117,744],function(){return e(e.s=11457)}),_N_E=e.O()}]);