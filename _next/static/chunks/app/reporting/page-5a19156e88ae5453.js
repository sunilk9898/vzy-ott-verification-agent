(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[709],{3434:function(e,t,a){Promise.resolve().then(a.bind(a,85572))},85572:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var s=a(57437),n=a(29),r=a.n(n),c=a(2265),o=a(48736),d=a(17342),i=a(30401),l=a(68919),x=a(3085),u=a(76858),b=a(66681),m=a(44481),h=a(93448);function g(){let{report:e}=(0,m.w)(),[t,a]=(0,c.useState)(!1);if(!e)return(0,s.jsx)("div",{className:"flex items-center justify-center h-[60vh]",children:(0,s.jsxs)("div",{className:"text-center text-gray-500 space-y-2",children:[(0,s.jsx)(o.Z,{className:"w-12 h-12 mx-auto opacity-30"}),(0,s.jsx)("p",{className:"text-sm",children:"No report data. Run a scan to generate reports."})]})});let n=e.kpiScore,g=e.comparisonWithPrevious,f=async()=>{let t="".concat(window.location.origin,"/reports/").concat(e.scanId);await navigator.clipboard.writeText(t),a(!0),setTimeout(()=>a(!1),2e3)};return(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba space-y-6 max-w-[1200px] mx-auto",children:[(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba",children:[(0,s.jsx)("h1",{className:"jsx-a0d02de2b498a3ba text-xl font-bold text-gray-100",children:"Reporting"}),(0,s.jsx)("p",{className:"jsx-a0d02de2b498a3ba text-sm text-gray-500",children:"Download, compare, and share scan reports"})]}),(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba flex gap-2",children:[(0,s.jsxs)("button",{onClick:()=>{let t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),a=URL.createObjectURL(t),s=document.createElement("a");s.href=a,s.download="vzy-scan-".concat(e.scanId,".json"),s.click(),URL.revokeObjectURL(a)},className:"jsx-a0d02de2b498a3ba btn-secondary text-xs",children:[(0,s.jsx)(d.Z,{className:"w-4 h-4"})," Download JSON"]}),(0,s.jsxs)("button",{onClick:()=>{window.print()},className:"jsx-a0d02de2b498a3ba btn-secondary text-xs",children:[(0,s.jsx)(o.Z,{className:"w-4 h-4"})," Download PDF"]}),(0,s.jsxs)("button",{onClick:f,className:"jsx-a0d02de2b498a3ba btn-primary text-xs",children:[t?(0,s.jsx)(i.Z,{className:"w-4 h-4"}):(0,s.jsx)(l.Z,{className:"w-4 h-4"}),t?"Copied!":"Share Link"]})]})]}),(0,s.jsxs)("div",{id:"report-content",className:"jsx-a0d02de2b498a3ba card p-6 print:shadow-none",children:[(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba flex items-start justify-between mb-6",children:[(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba",children:[(0,s.jsx)("h2",{className:"jsx-a0d02de2b498a3ba text-lg font-bold text-gray-100",children:"Scan Report"}),(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba text-xs text-gray-500 mt-1 space-y-0.5",children:[(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba",children:["Scan ID: ",e.scanId]}),(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba",children:["Generated: ",new Date(e.generatedAt).toLocaleString()]}),(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba",children:["Target: ",e.target.url||e.target.repoPath]}),(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba",children:["Platform: ",e.platform]})]})]}),(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba text-right",children:[(0,s.jsx)("div",{className:"jsx-a0d02de2b498a3ba "+((0,h.cn)("text-4xl font-bold tabular-nums",(0,h.Uz)(n.overallScore))||""),children:n.overallScore}),(0,s.jsx)("div",{className:"jsx-a0d02de2b498a3ba text-xs text-gray-500",children:"/ 100 Overall KPI"}),(0,s.jsx)("div",{className:"jsx-a0d02de2b498a3ba "+((0,h.cn)("badge mt-2",n.passesThreshold?"bg-green-500/15 text-green-400 border-green-500/30":"bg-red-500/15 text-red-400 border-red-500/30")||""),children:n.passesThreshold?"PASS":"FAIL"})]})]}),(0,s.jsx)("div",{className:"jsx-a0d02de2b498a3ba grid grid-cols-3 gap-4 mb-6",children:[{label:"Security",score:n.grades.security.rawScore,weight:"40%"},{label:"Performance",score:n.grades.performance.rawScore,weight:"35%"},{label:"Code Quality",score:n.grades.codeQuality.rawScore,weight:"25%"}].map(e=>(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba p-4 rounded-lg bg-surface-1 text-center",children:[(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba text-xs text-gray-500",children:[e.label," (",e.weight,")"]}),(0,s.jsx)("div",{className:"jsx-a0d02de2b498a3ba "+((0,h.cn)("text-2xl font-bold mt-1",(0,h.Uz)(e.score))||""),children:e.score})]},e.label))}),(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba mb-6",children:[(0,s.jsx)("h3",{className:"jsx-a0d02de2b498a3ba text-sm font-semibold text-gray-200 mb-2",children:"Executive Summary"}),(0,s.jsx)("p",{className:"jsx-a0d02de2b498a3ba text-sm text-gray-400 leading-relaxed",children:e.executiveSummary})]}),e.criticalFindings.length>0&&(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba mb-6",children:[(0,s.jsxs)("h3",{className:"jsx-a0d02de2b498a3ba text-sm font-semibold text-gray-200 mb-3",children:["Critical & High Findings (",e.criticalFindings.length,")"]}),(0,s.jsxs)("table",{className:"jsx-a0d02de2b498a3ba data-table",children:[(0,s.jsx)("thead",{className:"jsx-a0d02de2b498a3ba",children:(0,s.jsxs)("tr",{className:"jsx-a0d02de2b498a3ba",children:[(0,s.jsx)("th",{className:"jsx-a0d02de2b498a3ba",children:"Severity"}),(0,s.jsx)("th",{className:"jsx-a0d02de2b498a3ba",children:"Finding"}),(0,s.jsx)("th",{className:"jsx-a0d02de2b498a3ba",children:"Category"}),(0,s.jsx)("th",{className:"jsx-a0d02de2b498a3ba",children:"Agent"})]})}),(0,s.jsx)("tbody",{className:"jsx-a0d02de2b498a3ba",children:e.criticalFindings.slice(0,20).map(e=>(0,s.jsxs)("tr",{className:"jsx-a0d02de2b498a3ba",children:[(0,s.jsx)("td",{className:"jsx-a0d02de2b498a3ba",children:(0,s.jsx)("span",{className:"jsx-a0d02de2b498a3ba "+((0,h.cn)("badge text-[10px]",(0,h.pK)(e.severity))||""),children:e.severity.toUpperCase()})}),(0,s.jsx)("td",{className:"jsx-a0d02de2b498a3ba text-xs text-gray-200 max-w-[300px] truncate",children:e.title}),(0,s.jsx)("td",{className:"jsx-a0d02de2b498a3ba text-xs text-gray-400",children:e.category}),(0,s.jsx)("td",{className:"jsx-a0d02de2b498a3ba text-xs text-gray-500 capitalize",children:e.agent})]},e.id))})]})]}),e.recommendations.length>0&&(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba mb-6",children:[(0,s.jsx)("h3",{className:"jsx-a0d02de2b498a3ba text-sm font-semibold text-gray-200 mb-3",children:"Recommendations"}),(0,s.jsx)("div",{className:"jsx-a0d02de2b498a3ba space-y-2",children:e.recommendations.map(e=>(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba flex items-start gap-3 p-3 rounded-lg bg-surface-1",children:[(0,s.jsxs)("span",{className:"jsx-a0d02de2b498a3ba text-xs font-bold text-brand-400 mt-0.5",children:["#",e.priority]}),(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba",children:[(0,s.jsx)("div",{className:"jsx-a0d02de2b498a3ba text-sm text-gray-200",children:e.title}),(0,s.jsx)("div",{className:"jsx-a0d02de2b498a3ba text-xs text-gray-400",children:e.description})]}),(0,s.jsxs)("span",{className:"jsx-a0d02de2b498a3ba "+((0,h.cn)("badge text-[10px] ml-auto flex-shrink-0","low"===e.effort?"bg-green-500/15 text-green-400 border-green-500/30":"medium"===e.effort?"bg-amber-500/15 text-amber-400 border-amber-500/30":"bg-red-500/15 text-red-400 border-red-500/30")||""),children:[e.effort," effort"]})]},e.priority))})]})]}),g&&(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba card p-6",children:[(0,s.jsx)("h3",{className:"jsx-a0d02de2b498a3ba text-sm font-semibold text-gray-200 mb-4",children:"Regression Comparison"}),(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba grid grid-cols-3 gap-4 mb-4",children:[(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba p-4 rounded-lg bg-surface-1 text-center",children:[(0,s.jsx)("div",{className:"jsx-a0d02de2b498a3ba text-xs text-gray-500",children:"Score Delta"}),(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba "+((0,h.cn)("text-2xl font-bold mt-1",g.scoreDelta>0?"text-green-400":g.scoreDelta<0?"text-red-400":"text-gray-400")||""),children:[g.scoreDelta>0?"+":"",g.scoreDelta.toFixed(1)]})]}),(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba p-4 rounded-lg bg-surface-1 text-center",children:[(0,s.jsx)("div",{className:"jsx-a0d02de2b498a3ba text-xs text-gray-500",children:"New Findings"}),(0,s.jsx)("div",{className:"jsx-a0d02de2b498a3ba text-2xl font-bold text-amber-400 mt-1",children:g.newFindings.length})]}),(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba p-4 rounded-lg bg-surface-1 text-center",children:[(0,s.jsx)("div",{className:"jsx-a0d02de2b498a3ba text-xs text-gray-500",children:"Resolved"}),(0,s.jsx)("div",{className:"jsx-a0d02de2b498a3ba text-2xl font-bold text-green-400 mt-1",children:g.resolvedFindings.length})]})]}),g.regressions.length>0&&(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba",children:[(0,s.jsx)("h4",{className:"jsx-a0d02de2b498a3ba text-xs font-medium text-gray-400 mb-2",children:"Regressions"}),(0,s.jsx)("div",{className:"jsx-a0d02de2b498a3ba space-y-2",children:g.regressions.map((e,t)=>(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba flex items-center gap-3 p-2 rounded bg-red-500/[0.04]",children:[(0,s.jsx)(x.Z,{className:"w-4 h-4 text-red-400 flex-shrink-0"}),(0,s.jsx)("span",{className:"jsx-a0d02de2b498a3ba text-sm text-gray-300 flex-1",children:e.metric}),(0,s.jsxs)("span",{className:"jsx-a0d02de2b498a3ba text-xs text-gray-500 tabular-nums",children:[e.previousValue," ",(0,s.jsx)(u.Z,{className:"w-3 h-3 inline"})," ",e.currentValue]})]},t))})]})]}),(0,s.jsxs)("div",{className:"jsx-a0d02de2b498a3ba card p-5",children:[(0,s.jsx)("h3",{className:"jsx-a0d02de2b498a3ba text-sm font-semibold text-gray-200 mb-4",children:"Weekly Summary"}),(0,s.jsx)(b.n,{data:n.trend.history,height:240,showBreakdown:!0})]}),(0,s.jsx)(r(),{id:"a0d02de2b498a3ba",children:"@media print{body{background:white!important;color:black!important}.card{border:1px solid#ddd!important;background:white!important}nav,header,aside,button{display:none!important}main{margin:0!important;padding:20px!important}}"})]})}},66681:function(e,t,a){"use strict";a.d(t,{n:function(){return m}});var s=a(57437),n=a(47625),r=a(5481),c=a(56940),o=a(97059),d=a(62994),i=a(84962),l=a(8147),x=a(23263),u=a(5469),b=a(60936);function m(e){let{data:t,height:a=280,showBreakdown:m=!1,target:h=95}=e,g=t.map(e=>({...e,dateLabel:(()=>{try{return(0,u.WU)((0,b.D)(e.date),"MMM d")}catch(t){return e.date}})()}));return(0,s.jsx)(n.h,{width:"100%",height:a,children:(0,s.jsxs)(r.T,{data:g,margin:{top:8,right:8,left:-20,bottom:0},children:[(0,s.jsxs)("defs",{children:[(0,s.jsxs)("linearGradient",{id:"gradOverall",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:"#3b82f6",stopOpacity:.3}),(0,s.jsx)("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:0})]}),(0,s.jsxs)("linearGradient",{id:"gradSecurity",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:"#ef4444",stopOpacity:.2}),(0,s.jsx)("stop",{offset:"100%",stopColor:"#ef4444",stopOpacity:0})]}),(0,s.jsxs)("linearGradient",{id:"gradPerf",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:"#22c55e",stopOpacity:.2}),(0,s.jsx)("stop",{offset:"100%",stopColor:"#22c55e",stopOpacity:0})]}),(0,s.jsxs)("linearGradient",{id:"gradCode",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:"#a855f7",stopOpacity:.2}),(0,s.jsx)("stop",{offset:"100%",stopColor:"#a855f7",stopOpacity:0})]})]}),(0,s.jsx)(c.q,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.04)"}),(0,s.jsx)(o.K,{dataKey:"dateLabel",tick:{fill:"#6b7280",fontSize:11},axisLine:{stroke:"rgba(255,255,255,0.06)"},tickLine:!1}),(0,s.jsx)(d.B,{domain:[0,100],tick:{fill:"#6b7280",fontSize:11},axisLine:!1,tickLine:!1}),(0,s.jsx)(i.d,{y:h,stroke:"#22c55e",strokeDasharray:"6 4",strokeOpacity:.5,label:{value:"Target ".concat(h),position:"right",fill:"#22c55e",fontSize:10}}),(0,s.jsx)(l.u,{contentStyle:{backgroundColor:"#1a1a24",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"8px",fontSize:"12px"},labelStyle:{color:"#9ca3af"},itemStyle:{color:"#e5e7eb"}}),m&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.u,{type:"monotone",dataKey:"security",stroke:"#ef4444",fill:"url(#gradSecurity)",strokeWidth:1.5,dot:!1,name:"Security"}),(0,s.jsx)(x.u,{type:"monotone",dataKey:"performance",stroke:"#22c55e",fill:"url(#gradPerf)",strokeWidth:1.5,dot:!1,name:"Performance"}),(0,s.jsx)(x.u,{type:"monotone",dataKey:"codeQuality",stroke:"#a855f7",fill:"url(#gradCode)",strokeWidth:1.5,dot:!1,name:"Code Quality"})]}),(0,s.jsx)(x.u,{type:"monotone",dataKey:"score",stroke:"#3b82f6",fill:"url(#gradOverall)",strokeWidth:2,dot:!1,activeDot:{r:4,fill:"#3b82f6",stroke:"#1a1a24",strokeWidth:2},name:"Overall"})]})})}},44481:function(e,t,a){"use strict";a.d(t,{w:function(){return o}});var s=a(2265),n=a(92371),r=a(71837),c=a(79286);function o(){let{report:e,target:t,loading:a,error:o,setReport:d,setTarget:i,setLoading:l,setError:x}=(0,n.nq)(),{activeScan:u,setActiveScan:b,completeScan:m}=(0,n.rG)(),h=(0,s.useCallback)(async()=>{if(t){l(!0);try{let e=await (0,r.IK)(t);d(e)}catch(e){x(e.message)}}},[t,d,l,x]),g=(0,s.useCallback)(async e=>{l(!0);try{let t=await (0,r.lZ)(e);return b({scanId:t.scanId,status:"running",agents:{security:{progress:0,status:"queued"},performance:{progress:0,status:"queued"},"code-quality":{progress:0,status:"queued"},"report-generator":{progress:0,status:"queued"}},startedAt:new Date().toISOString()}),t}catch(e){throw x(e.message),e}},[b,l,x]);(0,s.useEffect)(()=>{let e=(0,c.gN)(e=>{m(e.scanId,e.score,e.status),h()}),t=(0,c.DF)(()=>{b(null),l(!1)});return()=>{e(),t()}},[m,b,h,l]);let f=(null==e?void 0:e.agentResults.find(e=>"security"===e.agentType))||null,j=(null==e?void 0:e.agentResults.find(e=>"performance"===e.agentType))||null,p=(null==e?void 0:e.agentResults.find(e=>"code-quality"===e.agentType))||null,y=((null==e?void 0:e.agentResults.flatMap(e=>e.findings))||[]).reduce((e,t)=>(e[t.severity]=(e[t.severity]||0)+1,e),{});return{report:e,target:t,loading:a,error:o,activeScan:u,securityResult:f,performanceResult:j,codeQualityResult:p,findingsBySeverity:y,setTarget:i,startScan:g,refresh:h}}},71837:function(e,t,a){"use strict";async function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=localStorage.getItem("vzy_token"),s=await fetch("".concat("https://vzy-api-gro1.onrender.com/api").concat(e),{...t,headers:{"Content-Type":"application/json",...a?{Authorization:"Bearer ".concat(a)}:{},...t.headers}});if(!s.ok){let e=await s.json().catch(()=>({error:s.statusText}));throw new n(s.status,e.error||s.statusText)}return s.json()}a.d(t,{Aj:function(){return c},FX:function(){return d},IK:function(){return r},Nq:function(){return g},Qx:function(){return j},Rf:function(){return m},bx:function(){return i},h8:function(){return f},hO:function(){return u},iE:function(){return l},lZ:function(){return o},r4:function(){return h},rF:function(){return x},te:function(){return p},x4:function(){return b}});class n extends Error{constructor(e,t){super(t),this.status=e,this.name="ApiError"}}async function r(e){return s("/reports/latest?target=".concat(encodeURIComponent(e)))}async function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return s("/trends?target=".concat(encodeURIComponent(e),"&days=").concat(t))}async function o(e){return s("/scans",{method:"POST",body:JSON.stringify(e)})}async function d(e){return s("/scans/batch",{method:"POST",body:JSON.stringify(e)})}async function i(e){return s("/scans/".concat(e,"/abort"),{method:"POST"})}async function l(){return s("/config")}async function x(e){return s("/config",{method:"PATCH",body:JSON.stringify(e)})}async function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return s("/webhooks/logs?limit=".concat(e))}async function b(e,t){return s("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})})}async function m(){return s("/auth/users")}async function h(e){return s("/auth/users",{method:"POST",body:JSON.stringify(e)})}async function g(e,t){return s("/auth/users/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async function f(e){return s("/auth/users/".concat(e),{method:"DELETE"})}async function j(){return s("/health")}async function p(e){return s("/jira/create",{method:"POST",body:JSON.stringify({findingId:e})})}},92371:function(e,t,a){"use strict";a.d(t,{HB:function(){return i},eX:function(){return d},nq:function(){return c},rG:function(){return o},tN:function(){return r}});var s=a(59625),n=a(89134);let r=(0,s.Ue)()((0,n.tJ)((e,t)=>({user:null,token:null,setAuth:(t,a)=>{e({user:t,token:a}),localStorage.setItem("vzy_token",a),document.cookie="vzy_token=".concat(a,"; path=/; max-age=").concat(86400,"; SameSite=Lax")},logout:()=>{e({user:null,token:null}),localStorage.removeItem("vzy_token"),document.cookie="vzy_token=; path=/; max-age=0"},hasRole:e=>{let a=t().user;return!!a&&e.includes(a.role)}}),{name:"vzy-auth"})),c=(0,s.Ue)(e=>({report:null,target:"",loading:!1,error:null,setReport:t=>e({report:t,error:null}),setTarget:t=>e({target:t}),setLoading:t=>e({loading:t}),setError:t=>e({error:t,loading:!1})})),o=(0,s.Ue)((e,t)=>({activeScan:null,scanHistory:[],setActiveScan:t=>e({activeScan:t}),updateAgentProgress:(a,s,n,r)=>{let c=t().activeScan;c&&c.scanId===a&&e({activeScan:{...c,agents:{...c.agents,[s]:{progress:n,status:r}}}})},completeScan:(t,a,s)=>{e(e=>({activeScan:null,scanHistory:[{scanId:t,score:a,status:s,timestamp:new Date().toISOString()},...e.scanHistory.slice(0,49)]}))}})),d=(0,s.Ue)(e=>({batchId:null,batchScans:[],batchRunning:!1,startBatch:(t,a)=>e({batchId:t,batchScans:a.map(e=>({...e,status:"queued"})),batchRunning:!0}),updateBatchEntry:(t,a)=>e(e=>({batchScans:e.batchScans.map(e=>e.scanId===t?{...e,...a}:e)})),clearBatch:()=>e({batchId:null,batchScans:[],batchRunning:!1})})),i=(0,s.Ue)()((0,n.tJ)(e=>({sidebarCollapsed:!1,trendRange:30,toggleSidebar:()=>e(e=>({sidebarCollapsed:!e.sidebarCollapsed})),setTrendRange:t=>e({trendRange:t})}),{name:"vzy-ui"}))},93448:function(e,t,a){"use strict";a.d(t,{$G:function(){return u},Sy:function(){return x},Uc:function(){return c},Uz:function(){return o},cn:function(){return r},dH:function(){return l},pK:function(){return d},td:function(){return i}});var s=a(61994),n=a(53335);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,s.W)(t))}function c(e){return e>=95?"healthy":e>=80?"warning":"critical"}function o(e){return e>=95?"text-kpi-pass":e>=80?"text-kpi-warn":"text-kpi-fail"}function d(e){return({critical:"bg-red-500/15 text-red-400 border-red-500/30",high:"bg-orange-500/15 text-orange-400 border-orange-500/30",medium:"bg-amber-500/15 text-amber-400 border-amber-500/30",low:"bg-blue-500/15 text-blue-400 border-blue-500/30",info:"bg-gray-500/15 text-gray-400 border-gray-500/30"})[e]}function i(e){if(0===e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,t)).toFixed(1))," ").concat(["B","KB","MB","GB"][t])}function l(e){return e<1e3?"".concat(Math.round(e),"ms"):"".concat((e/1e3).toFixed(1),"s")}function x(e){let t="string"==typeof e?new Date(e):e,a=Math.floor((Date.now()-t.getTime())/6e4);if(a<1)return"just now";if(a<60)return"".concat(a,"m ago");let s=Math.floor(a/60);return s<24?"".concat(s,"h ago"):"".concat(Math.floor(s/24),"d ago")}function u(e,t){return e.length<=t?e:e.slice(0,t)+"..."}},79286:function(e,t,a){"use strict";a.d(t,{$j:function(){return o},DF:function(){return l},H0:function(){return x},WH:function(){return u},gN:function(){return i},zP:function(){return d}});var s=a(68680);let n=a(40257).env.WS_URL||"https://vzy-api-gro1.onrender.com",r=null,c={"scan:progress":new Set,"scan:complete":new Set,"scan:error":new Set,"batch:progress":new Set,"batch:complete":new Set};function o(){return(null==r?void 0:r.connected)||((r=(0,s.io)(n,{transports:["websocket","polling"],reconnection:!0,reconnectionDelay:2e3,reconnectionAttempts:10,auth:{token:localStorage.getItem("vzy_token")}})).on("connect",()=>{console.info("[WS] Connected:",null==r?void 0:r.id)}),r.on("disconnect",e=>{console.warn("[WS] Disconnected:",e)}),r.on("scan:progress",e=>{c["scan:progress"].forEach(t=>t(e))}),r.on("scan:complete",e=>{c["scan:complete"].forEach(t=>t(e))}),r.on("scan:error",e=>{c["scan:error"].forEach(t=>t(e))}),r.on("batch:progress",e=>{c["batch:progress"].forEach(t=>t(e))}),r.on("batch:complete",e=>{c["batch:complete"].forEach(t=>t(e))})),r}function d(){null==r||r.disconnect(),r=null}function i(e){return c["scan:complete"].add(e),()=>{c["scan:complete"].delete(e)}}function l(e){return c["scan:error"].add(e),()=>{c["scan:error"].delete(e)}}function x(e){return c["batch:progress"].add(e),()=>{c["batch:progress"].delete(e)}}function u(e){return c["batch:complete"].add(e),()=>{c["batch:complete"].delete(e)}}}},function(e){e.O(0,[809,137,324,96,642,935,974,971,117,744],function(){return e(e.s=3434)}),_N_E=e.O()}]);